<Page x:Class="PiggyBankAdmin.Views.Pages.StatisticsPage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      Title="Статистика">

    <ScrollViewer>
        <Grid Margin="10">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>

            <!-- Заголовок -->
            <TextBlock Grid.Row="0" Text="📊 Статистика" FontSize="18" FontWeight="Bold" Margin="0,0,0,20"/>

            <!-- Карточки статистики -->
            <WrapPanel Grid.Row="1" Orientation="Horizontal" Margin="0,0,0,20">
                <Border Background="#E8F5E8" CornerRadius="8" Padding="15" Margin="0,0,10,10" Width="200">
                    <StackPanel>
                        <TextBlock Text="👥 Пользователи" FontSize="12" Foreground="#666"/>
                        <TextBlock Name="TotalUsersText" Text="0" FontSize="24" FontWeight="Bold"/>
                    </StackPanel>
                </Border>

                <Border Background="#FFEBEE" CornerRadius="8" Padding="15" Margin="0,0,10,10" Width="200">
                    <StackPanel>
                        <TextBlock Text="💳 Транзакции" FontSize="12" Foreground="#666"/>
                        <TextBlock Name="TotalTransactionsText" Text="0" FontSize="24" FontWeight="Bold"/>
                    </StackPanel>
                </Border>

                <Border Background="#E3F2FD" CornerRadius="8" Padding="15" Margin="0,0,10,10" Width="200">
                    <StackPanel>
                        <TextBlock Text="📈 Общий доход" FontSize="12" Foreground="#666"/>
                        <TextBlock Name="TotalIncomeText" Text="0₽" FontSize="24" FontWeight="Bold"/>
                    </StackPanel>
                </Border>

                <Border Background="#FFF3E0" CornerRadius="8" Padding="15" Margin="0,0,10,10" Width="200">
                    <StackPanel>
                        <TextBlock Text="📉 Общие расходы" FontSize="12" Foreground="#666"/>
                        <TextBlock Name="TotalExpensesText" Text="0₽" FontSize="24" FontWeight="Bold"/>
                    </StackPanel>
                </Border>
            </WrapPanel>

            <!-- Кнопки экспорта -->
            <StackPanel Grid.Row="2" Orientation="Horizontal">
                <Button Content="📤 Экспорт пользователей (CSV)" Click="ExportUsers_Click" 
                        Background="#1A946F" Foreground="White" Margin="0,0,10,0" Padding="10,5"/>
                <Button Content="📤 Экспорт транзакций (CSV)" Click="ExportTransactions_Click" 
                        Background="#1A946F" Foreground="White" Margin="0,0,10,0" Padding="10,5"/>
                <Button Content="📤 Экспорт целей (CSV)" Click="ExportGoals_Click" 
                        Background="#1A946F" Foreground="White" Padding="10,5"/>
            </StackPanel>
        </Grid>
    </ScrollViewer>
</Page>